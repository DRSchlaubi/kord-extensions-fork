
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://kord-extensions.docs.kotlindiscord.com/concepts/commands/">
      
      <link rel="shortcut icon" href="../../assets/icon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.2">
    
    
      
        <title>Commands - Kord Extensions</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.73f7c429.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="" data-md-color-accent="">
      
        <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#commands" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://kord-extensions.docs.kotlindiscord.com" title="Kord Extensions" class="md-header-nav__button md-logo" aria-label="Kord Extensions">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Kord Extensions
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Commands
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://kord-extensions.docs.kotlindiscord.com" title="Kord Extensions" class="md-nav__button md-logo" aria-label="Kord Extensions">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Kord Extensions
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../getting-started/" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Concepts
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Concepts" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Concepts
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../bot/" class="md-nav__link">
      The Bot Object
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../extensions/" class="md-nav__link">
      Extensions
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../events/" class="md-nav__link">
      Events
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../checks/" class="md-nav__link">
      Checks
    </a>
  </li>

        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Commands
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Commands
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-basics" class="md-nav__link">
    The basics
  </a>
  
    <nav class="md-nav" aria-label="The basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-context" class="md-nav__link">
    Command context
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-arguments" class="md-nav__link">
    Command arguments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-groups" class="md-nav__link">
    Command groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-parsing" class="md-nav__link">
    Command parsing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-command-types" class="md-nav__link">
    Custom command types
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../converters/" class="md-nav__link">
      Converters
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    
    <label class="md-nav__link" for="nav-4">
      Utilities
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Utilities" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../utilities/general/" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../utilities/paginator/" class="md-nav__link">
      Paginator
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" >
    
    <label class="md-nav__link" for="nav-5">
      Integrations
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Integrations" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../integrations/sentry/" class="md-nav__link">
      Sentry
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="/-kord%20-extensions/" class="md-nav__link">
      Dokka API Docs
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-basics" class="md-nav__link">
    The basics
  </a>
  
    <nav class="md-nav" aria-label="The basics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-context" class="md-nav__link">
    Command context
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-arguments" class="md-nav__link">
    Command arguments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-groups" class="md-nav__link">
    Command groups
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-parsing" class="md-nav__link">
    Command parsing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-command-types" class="md-nav__link">
    Custom command types
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="commands">Commands</h1>
<p>If you want your bot to interact with users in a more complex manner than simply reacting to events, then you'll
probably want to write some commands. Kord Extensions provides a robust and flexible commands system, built around
a custom argument parsing solution that allows you to specify the arguments for your command in an entirely type-safe
manner.</p>
<p>We support both standalone and grouped commands, and you can even create your own specialised command types if you
wish. That said, it's usually best to start with the basics.</p>
<h2 id="the-basics">The basics</h2>
<p>Commands provide a way for you to specify a set of actions the bot can take on a user's behalf, specified using a
prefixed message in a Discord channel or private message. Creating one is simple - just use the <code>command</code> function in 
your extension's <code>setup</code> function.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">command</span> <span class="p">{</span>  <span class="c1">// this: Command</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;ping&quot;</span>  <span class="c1">// Command name</span>
    <span class="n">aliases</span> <span class="p">=</span> <span class="n">arrayOf</span><span class="p">(</span><span class="s">&quot;pong&quot;</span><span class="p">)</span>  <span class="c1">// Alternate command names</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Returns &#39;Pong!&#39;&quot;</span>  <span class="c1">// Help text for the help command</span>

    <span class="n">check</span> <span class="p">{</span> <span class="n">event</span> <span class="p">-&gt;</span> <span class="k">true</span> <span class="p">}</span>  <span class="c1">// Return `false` to prevent the action</span>
    <span class="n">check</span><span class="p">(</span><span class="o">::</span><span class="n">returnTrue</span><span class="p">)</span>  <span class="c1">// You can also pass it a function</span>

    <span class="n">action</span> <span class="p">{</span>  <span class="c1">// this: CommandContext</span>
        <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span><span class="s">&quot;Pong!&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>Use the <code>check</code> function to define a set of predicates that must all return <code>true</code> in order for the command's action to
be run - you can read more about checks on <a href="/concepts/checks">the Checks page</a>. Once all the checks pass, the <code>action</code>
lambda will be called.</p>
<p>Note that the <code>action</code> lambda above is a receiver function, where <code>this</code> is bound to a <code>CommandContext</code> object.</p>
<h3 id="options">Options</h3>
<p>Commands have quite a lot of options that you may be interested in while setting one up. The following properties
are available right in the <code>command</code> lambda - please note that properties marked with <img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /> are required and must
be set in order to properly register a command.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="center">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>name</code></td>
<td align="center"><code>String</code></td>
<td align="left"><img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /> The primary name of the command, which must be unique throughout the bot and is used for invocation</td>
</tr>
<tr>
<td align="left"><code>aliases</code></td>
<td align="center"><code>Array &lt;String&gt;</code></td>
<td align="left">An array of secondary names to use for this command, which are also used for invocation and help commands</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="center"><code>String</code></td>
<td align="left">A long description used by the help extension to describe the command - the first line of which should be a short summary</td>
</tr>
<tr>
<td align="left"><code>enabled</code></td>
<td align="center"><code>Boolean</code></td>
<td align="left">Defaulting to <code>true</code>, this can be set programmatically in order to entirely disable or re-enable the command</td>
</tr>
<tr>
<td align="left"><code>hidden</code></td>
<td align="center"><code>Boolean</code></td>
<td align="left">Default to <code>false</code>, this can be set to <code>true</code> to completely hide the command from the help extension's command listings</td>
</tr>
<tr>
<td align="left"><code>signature</code></td>
<td align="center"><code>String</code></td>
<td align="left">A string representing the arguments for the command - you can have this automatically generated using the <code>signature()</code> function as described later on in this document</td>
</tr>
</tbody>
</table>
<p>Additionally, the following functions are available - please note that functions marked with <img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /> are  required 
and must be called in order to properly register a command.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>action</code></td>
<td align="left"><img alt="⚠" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/26a0.svg" title=":warning:" /> A DSL function allowing you to define the code that will be run when the command is invoked, either as a lambda or by passing a function reference</td>
</tr>
<tr>
<td align="left"><code>check</code></td>
<td align="left">A function allowing you to define one or more checks for this command - see <a href="/concepts/checks">the Checks page</a> for more information</td>
</tr>
<tr>
<td align="left"><code>signature</code></td>
<td align="left">A function that will generate the command signature for you, when passed a function or constructor reference that returns an Arguments object, which will be described later on in this document</td>
</tr>
</tbody>
</table>
<h3 id="command-context">Command context</h3>
<p>A <code>CommandContext</code> object is a light wrapper around the command invocation, and it exists only for the  duration of 
your command's <code>action</code>. It exists to provide a little extra context and functionality for your command body</p>
<p><code>CommandContext</code> objects expose the following properties.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="center">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>args</code></td>
<td align="center"><code>Array &lt;String&gt;</code></td>
<td align="left">A simple array of string arguments that were passed to this command invocation</td>
</tr>
<tr>
<td align="left"><code>breadcrumbs</code></td>
<td align="center"><code>MutableList &lt;Breadcrumb&gt;</code></td>
<td align="left">List of Sentry breadcrumbs, for the <a href="/integrations/sentry">Sentry intgration</a></td>
</tr>
<tr>
<td align="left"><code>command</code></td>
<td align="center"><code>Command</code></td>
<td align="left">Current command being invoked</td>
</tr>
<tr>
<td align="left"><code>event</code></td>
<td align="center"><code>MessageCreateEvent</code></td>
<td align="left">MessageCreateEvent that is responsible for causing this command invocation</td>
</tr>
<tr>
<td align="left"><code>message</code></td>
<td align="center"><code>Message</code></td>
<td align="left">Message object from the <code>event</code></td>
</tr>
</tbody>
</table>
<p>Additionally, <code>CommandContext</code> objects expose the following functions.</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>breadcrumb</code></td>
<td align="left">Convenience function to create and add a Sentry breadcrumb, for the <a href="/integrations/sentry">Sentry intgration</a>.</td>
</tr>
<tr>
<td align="left"><code>parse</code></td>
<td align="left">Given a function or constructor reference that returns an Arguments object, parses the command's arguments and returns a filled Arguments object - see below for more information</td>
</tr>
</tbody>
</table>
<h3 id="command-arguments">Command arguments</h3>
<p>Kord Extensions provides an object-based approach to argument parsing, using a base <code>Arguments</code> type and delegation to
extension functions. Defining the arguments for your command is fairly simple:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">PostArguments</span> <span class="p">:</span> <span class="n">Arguments</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Single required string argument</span>
    <span class="k">val</span> <span class="py">title</span> <span class="k">by</span> <span class="n">string</span><span class="p">(</span><span class="s">&quot;title&quot;</span><span class="p">)</span>

    <span class="c1">// Single required Discord user argument</span>
    <span class="k">val</span> <span class="py">author</span> <span class="k">by</span> <span class="n">user</span><span class="p">(</span><span class="s">&quot;author&quot;</span><span class="p">)</span>

    <span class="c1">// Consumes the rest of the arguments into a single string</span>
    <span class="k">val</span> <span class="py">body</span> <span class="k">by</span> <span class="n">coalescedString</span><span class="p">(</span><span class="s">&quot;body&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>We recommend writing this as an inner class, but it's up to you where you put it (as long as it's public). Once you've
created your argument class, you can start using it in your commands:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">command</span> <span class="p">{</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;post&quot;</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Create a post&quot;</span>

    <span class="n">signature</span><span class="p">(</span><span class="o">::</span><span class="n">PostArguments</span><span class="p">)</span>

    <span class="n">action</span> <span class="p">{</span>
        <span class="c1">// Option 1</span>
        <span class="k">val</span> <span class="py">parsed</span> <span class="p">=</span> <span class="n">parse</span><span class="p">(</span><span class="o">::</span><span class="n">PostArguments</span><span class="p">)</span>

        <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span>
            <span class="s">&quot;**${parsed.title}** (by ${parsed.author.mention})\n\n&quot;</span> <span class="p">+</span>
                <span class="n">parsed</span><span class="p">.</span><span class="n">body</span>
        <span class="p">)</span>

        <span class="c1">// Option 2</span>
        <span class="n">with</span><span class="p">(</span><span class="n">parse</span><span class="p">(</span><span class="o">::</span><span class="n">PostArguments</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span>
                <span class="s">&quot;**$title** (by ${author.mention})\n\n&quot;</span> <span class="p">+</span>
                    <span class="n">body</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p>The argument parser will validate the command arguments for you automatically - if there's a problem, a
<code>ParseException</code> will be thrown. These exceptions are automatically handled by the bot, and will be returned to
whoever invoked the command to let them know what exactly went wrong.</p>
<p>For more information on how exactly this parsing works (and how to customize it), please see 
<a href="/concepts/converters">the Converters page</a>.</p>
<h2 id="command-groups">Command groups</h2>
<p>For ease of use, we also provide a special type of command that includes the ability to nest commands within it.
Grouped commands work just like regular commands, but with a few differences:</p>
<ul>
<li>Grouped commands have a default action that informs the user of the available subcommands, which means you don't have
  to define an <code>action</code> unless you want to override this behaviour</li>
<li>Grouped commands have their own <code>command</code> and <code>group</code> functions that can be used for nesting</li>
<li>Checks are tested while traversing the tree, which means that a parent's checks must pass for a subcommand to execute</li>
</ul>
<p>The help extension also fully supports subcommands, and understands what you meant if you try to request help for a
subcommand - just provide the full command, and you're good to go.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">group</span> <span class="p">{</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;sport&quot;</span>
    <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Set your favourite sport!&quot;</span>

    <span class="n">command</span> <span class="p">{</span>
        <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;basketball&quot;</span>
        <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Set your favourite sport to basketball&quot;</span>

        <span class="n">action</span> <span class="p">{</span>
            <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span><span class="s">&quot;Your favourite sport is now basketball.&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">command</span> <span class="p">{</span>
        <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;football&quot;</span>
        <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Set your favourite sport to football&quot;</span>

        <span class="n">action</span> <span class="p">{</span>
            <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span><span class="s">&quot;Your favourite sport is now football.&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">group</span> <span class="p">{</span>
        <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;craft&quot;</span>
        <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Sports are boring, pick a craft instead!&quot;</span>

        <span class="n">command</span> <span class="p">{</span>
            <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;knitting&quot;</span>
            <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Set your favourite sport to knitting&quot;</span>

            <span class="n">action</span> <span class="p">{</span>
                <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span><span class="s">&quot;Your favourite sport is now knitting.&quot;</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">command</span> <span class="p">{</span>
            <span class="n">name</span> <span class="p">=</span> <span class="s">&quot;painting&quot;</span>
            <span class="n">description</span> <span class="p">=</span> <span class="s">&quot;Set your favourite sport to painting&quot;</span>

            <span class="n">action</span> <span class="p">{</span>
                <span class="n">message</span><span class="p">.</span><span class="n">respond</span><span class="p">(</span><span class="s">&quot;Your favourite sport is now painting.&quot;</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<h2 id="command-parsing">Command parsing</h2>
<p>While not everyone will need to understand precisely how commands are parsed under the hood, it's worth exploring
some specifics - you'll need to understand how to specify arguments on Discord, and your users will likewise need
an understanding of this.</p>
<p>Kord Extensions supports two ways to supply arguments out of the box: Positional arguments, and keyword arguments.
You can mix both approaches; arguments will always be parsed in the order they're defined in the <code>Arguments</code> subclass,
but keyword arguments can appear anywhere in the command (aside from inside another argument). Positional arguments are
always parsed in order.</p>
<details class="missing"><summary>Not Implemented: Flags</summary><p>Occasionally, a user will ask us why our parser doesn't support Unix-style flags - for example, <code>--argument</code> or
<code>-a value</code>. The primary reason for this is that the current argument parser is already fairly complex, and 
supporting flags within it would massively increase the maintenance burden it already carries.</p>
<p>Additionally, while developers and Linux users will be very familiar with flags, we don't feel that most users
will find them as simple to understand as our current keyword arguments. That said, you're always free to subclass
the <code>ArgumentParser</code> class and implement your own parsing - if you do anything interesting with this, please let
us know!</p>
</details>
<p>Additionally, single arguments can contain spaces if you <code>"surround them in quotes"</code>. As an example, take the 
following command:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>!post author=109040264529608704 &quot;This is my title&quot; **My Post**

This is part of the body of my post, despite being a couple lines down.
Arguments can happily contain newlines - although arguments can&#39;t be 
*separated* using newlines, so be careful!
</code></pre></div>
</td></tr></table>
<p>Assuming a command prefix of <code>!</code>:</p>
<ol>
<li>Our command is named <code>post</code></li>
<li>Next, a keyword argument referring to <code>author</code> is found, and a reference is stored</li>
<li><code>title</code> is parsed first, into the string <code>"This is my title"</code></li>
<li>Next, <code>author</code> is parsed - the bot will search for a user with the given ID, but a mention or <code>user#discrim</code> string can also be provided instead</li>
<li>Finally, <code>body</code> is parsed - it's a coalescing string converter, so it consumes the rest of the arguments</li>
</ol>
<p>This is a fairly simple example, and you can write some fairly complicated command handling if you feel so inclined.</p>
<details class="tip"><summary>Consuming multiple arguments</summary><p>Multi and coalescing converters consume arguments until they come across something they can no longer consume - for
example, the <code>numberList</code> extension function returns a <code>MultiConverter</code> that consumes whole numbers until it no 
longer can. It will consume  numbers from its starting argument onwards, until it encounters something that isn't 
a number. At that point, it stops and tells the argument parser how many arguments have been consumed, and 
processing continues to the next converter.</p>
</details>
<details class="tip"><summary>Extensible converters</summary><p>Converters themselves are quite extensible, and you shouldn't be afraid to write custom converters for types that
are unique to your bot. Additionally, the order of the arguments defined in your <code>Arguments</code> subclass will be
matched by the parser, so it is technically possible to create a converter that, for example, takes a lambda that
relies on the value of a previously specified argument.</p>
</details>
<h2 id="custom-command-types">Custom command types</h2>
<p>Kord Extensions provides three command types (<code>Command</code>, <code>GroupCommand</code> and <code>SubCommand</code>), which should be fairly
self-explanatory. You can also create your own command types by subclassing <code>Command</code> and overriding different
properties and functions.</p>
<p>Some properties you may be interested in include:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="center">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>body</code></td>
<td align="center"><code>CommandContext.()</code></td>
<td align="left">The command body, normally set using the <code>action</code> function</td>
</tr>
<tr>
<td align="left"><code>checkList</code></td>
<td align="center"><code>MutableList &lt;MessageCreateEvent -&gt; Boolean&gt;</code></td>
<td align="left">A list of check predicates required for command execution</td>
</tr>
<tr>
<td align="left"><code>parser</code></td>
<td align="center"><code>ArgumentParser</code></td>
<td align="left">Class in charge of handling argument parsing, which you can override if you'd like to change how that works</td>
</tr>
</tbody>
</table>
<p>The following functions may also be interesting for subclasses:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>runChecks</code></td>
<td align="left">Function in charge of running all the checks and reporting its success</td>
</tr>
<tr>
<td align="left"><code>call</code></td>
<td align="left">Function called to handle the actual command invocation - a lot of things happen here, you'll want to read the source before overriding this</td>
</tr>
</tbody>
</table>
<p>As the command system is still constantly evolving, you'll want to keep up with releases and double-check for breakages
in your custom command types. Despite this maintenance burden, custom command types have a lot of uses - so feel free
to experiment!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../checks/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Checks
              </div>
            </div>
          </a>
        
        
          <a href="../converters/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Converters
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>